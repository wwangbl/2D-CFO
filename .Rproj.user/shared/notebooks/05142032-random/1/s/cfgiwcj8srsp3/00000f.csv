"0","preliminary <- function(p.true, ndose.A, ndose.B, tys, tns, seed=seed){"
"0","  set.seed(seed)"
"0","  for (i in 1:ndose.A) {"
"0","    tns[i,1] <- tns[i,1] + 1"
"0","    p <- runif(1)"
"0","    if (p<p.true[i,1]){"
"0","      tys[i,1] <- 1"
"0","      return(list(tys=tys, tns=tns, position=which(tys==1, arr.ind = T)))"
"0","    }"
"0","  }"
"0","  message(sum(tys))"
"0",""
"0","  for (j in 2:ndose.B) {"
"0","    tns[1,j] <- tns[1,j] + 1"
"0","    p <- runif(1)"
"0","    if (p<p.true[1,j]){"
"0","      tys[1,j] <- 1"
"0","      return(list(tys=tys, tns=tns, position=which(tys==1, arr.ind = T)))"
"0","    }"
"0","  }"
"0",""
"0","  return(list(tys=tys, tns=tns, position=c(0,0)))"
"0","}"
